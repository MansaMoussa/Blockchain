#!/bin/bash
set -v

################################################################################
###/!\/!\/!\/!\/!\/!\ TOUJOURS ./destroy avant de ./build  /!\/!\/!\/!\/!\/!\###
################################################################################
javac *.java
rmic BlockchainImpl
rmic NoeudBlockImpl


################################################################################
####  I'll be waiting for 10sec in order to let my peer to launch his server ####
################################################################################
rmiregistry 2222 &
rmiregistry 1234 &



#******************************************************************************#
#******************************** S T A R T ***********************************#
#******************************************************************************#
#******************************* Noeud_Block1 *********************************#
java -Djava.security.manager -Djava.security.policy=java.policy Noeud_Block 2222 4242
