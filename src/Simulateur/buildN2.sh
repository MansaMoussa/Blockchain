#!/bin/bash
set -v

################################################################################
###/!\/!\/!\/!\/!\/!\ TOUJOURS ./destroy avant de ./build  /!\/!\/!\/!\/!\/!\###
################################################################################
javac *.java
rmic BlockchainImpl
rmic NoeudBlockImpl
################################################################################
################  On envoit ce dont le Participant1 aura besoin ################
################################################################################
################################################################################
######### On personnalise les noms de la class qu'on enverra au voisin #########
################   On envoit ce dont mon peer NB2 aura besoin   ################
################################################################################
################################################################################
#On le remmet avec les bons noms pour compatibilité avec les classes existentes#
################################################################################
####  I'll be waiting for 5sec in order to let my peer to launch his server ####
################################################################################
rmiregistry 4242 &
rmiregistry 5678 &



#******************************************************************************#
#******************************** S T A R T ***********************************#
#******************************************************************************#
#******************************* Noeud_Block1 *********************************#
java -Djava.security.manager -Djava.security.policy=java.policy Noeud_Block 4242 2222 5678 1234
